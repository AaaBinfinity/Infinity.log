<template>

  <div class="about-page">

    <div class="about-card">


      <!-- ä¸ªäººä»‹ç»éƒ¨åˆ† -->
      <div class="intro-section">
        <img src="https://foruda.gitee.com/avatar/1725543121594546085/14873817_binfinity_1725543121.png" alt="æˆ‘çš„å¤´åƒ"
             class="avatar"/>
        <div class="intro-text">
          <h1>About Binfinity</h1>


          <p>// å¦‚æœäººç”Ÿæ˜¯ä¸€ä¸ªwhileå¾ªç¯çš„è¯........ <br>// é‚£ç›®å‰è¿™è¡Œä»£ç å°±æ˜¯ â€œcontinue;â€</p>
          <p><br>
            å§“åï¼šBinfinity<br>
            æ€§åˆ«ï¼šç”· <br>
            å¹´é¾„ï¼š<span id="age"></span><br>
            æ‰€åœ¨åœ°ï¼šChina
          </p>
        </div>
      </div>


      <div>
        <div class="quote-container">
          <p>ğŸ•’ å½“å‰æ—¶é—´ï¼š{{ currentTime }}
            ~~~ğŸ² ä»Šå¤©ä½ æ˜¯ä¸€ä¸ªï¼š<strong>{{ programmerTitle }}</strong></p>
          <p class="quote-text">{{ currentQuote }}
            <button class="change-quote-button" @click="changeQuote">æ¢ä¸€å¥</button>
          </p>
          <p>ğŸŒŒ Infinity.logï¼Œæ˜¯æˆ‘åœ¨æ¼«æ¼«æ˜Ÿæ²³ä¸­ç•™ä¸‹ä¸€é“é“å¾®å…‰çš„æ–¹å¼ã€‚ ç”Ÿå‘½çš„è½¨è¿¹ï¼Œä¹Ÿè®¸æ— æ³•é¢„æµ‹ï¼Œä½†æˆ‘å¸Œæœ›ï¼Œå®ƒè‡³å°‘èƒ½è¢«è®°å½•ã€‚</p>
          <p>å¸Œæœ›å¤šå¹´ä»¥åå†å›æœ›ï¼Œçœ‹åˆ°äº†ä¸æ­¢æ˜¯æ²™å‘ä¸Šçš„å±è‚¡å°ï¼Œè¿˜æœ‰è¿™ä¸ªåšå®¢ï¼Œé™é™åœ°è¯´ç€ï¼š â€œä½ æ›¾çƒ­çƒˆåœ°æ´»è¿‡ã€‚â€</p>
        </div>
      </div>

      <!-- æŠ€èƒ½æ ˆéƒ¨åˆ† -->
      <section>
        <h2>ğŸ›  æŠ€èƒ½æ ˆ</h2>

        <div>
          <p><strong>å‰ç«¯ï¼š</strong> Vue 3 / TypeScript / HTML5 / CSS3</p>
          <div class="progress-bar">
            <div class="progress" style="width: 90%;"></div>
          </div>
        </div>
        <br>
        <div>
          <p><strong>åç«¯ï¼š</strong> Flask / Spring Boot / Spring Cloud</p>
          <div class="progress-bar">
            <div class="progress" style="width: 80%;"></div>
          </div>
        </div>
        <br>
        <div>
          <p><strong>æ•°æ®åˆ†æä¸å¯è§†åŒ–ï¼š</strong> Python / MySQL / Echarts </p>
          <div class="progress-bar">
            <div class="progress" style="width: 85%;"></div>
          </div>
        </div>
        <br>
        <div>
          <p><strong>å·¥å…·ä¸ç¯å¢ƒï¼š</strong> Git / Linux / VSCode / æ•°æ®å¯è§†åŒ–è®¾è®¡</p>
          <div class="progress-bar">
            <div class="progress" style="width: 75%;"></div>
          </div>
        </div>
        <div class="tech-journey">
          <h2 class="title">ğŸ§  æˆ‘çš„æŠ€æœ¯æˆé•¿è½¨è¿¹</h2>
          <p>
            ç¬¬ä¸€æ¬¡æ¥è§¦ä»£ç ï¼Œæ˜¯åœ¨é«˜è€ƒåˆšç»“æŸçš„é‚£ä¸ªæš‘å‡ã€‚æœ€å¼€å§‹æ¥è§¦çš„æ˜¯ Pythonï¼Œç¬¬ä¸€ä¸ªå†™çš„ç¨‹åºï¼Œæ˜¯ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°ã€‚
            é‚£æ—¶å€™å¯¹â€œç¼–ç¨‹â€è¿™å›äº‹å‡ ä¹ä¸€æ— æ‰€çŸ¥ï¼Œåªæ˜¯è§‰å¾—ï¼š<strong>å±å¹•ä¸Šèƒ½è¿è¡Œèµ·æ¥ï¼ŒçœŸçš„å¾ˆç¥å¥‡ã€‚</strong>
          </p>
          <p>
            çœŸæ­£å¼€å§‹ç³»ç»Ÿå­¦ä¹ ç¼–ç¨‹ï¼Œæ˜¯å¤§ä¸€åˆšå…¥å­¦çš„æ—¶å€™ã€‚ä»é›¶å¼€å§‹è‡ªå­¦å‰ç«¯ï¼Œè®°å¾—é‚£ä¼šå„¿å†™çš„ç¬¬ä¸€ä¸ªç¨‹åºæ˜¯ HTML ä¸ªäººç®€å†ï¼Œæ•´æ•´è°ƒäº†ä¸‰å¤©ä¸‰å¤œï¼Œ
            æœ€åæ‰å‘ç°ï¼Œå‡ºé—®é¢˜çš„åœ°æ–¹åªæ˜¯ä¸€è¡Œè¶…é“¾æ¥çš„è·¯å¾„å†™é”™äº†ã€‚è™½ç„¶æŠ“è€³æŒ è…®ã€ç„¦å¤´çƒ‚é¢ï¼Œä½†ä¹Ÿæ­£æ˜¯åœ¨è¿™æ ·çš„æ—¶åˆ»ï¼Œæˆ‘ç¬¬ä¸€æ¬¡ä½“ä¼šåˆ°å†™ä»£ç çš„â€œç—›å¹¶å¿«ä¹ç€â€ã€‚
          </p>
          <p>
            åæ¥æ…¢æ…¢å¼€å§‹åšé¡¹ç›®ï¼Œèµ°è¿›äº† Pythonã€ç®—æ³•ã€æ•°æ®åˆ†æã€å¯è§†åŒ–è¿™ç‰‡æµ©ç€šçš„æµ·æ´‹ã€‚ä¸€è·¯ä¸Šæ—¶è€Œå…´å¥‹ï¼Œæ—¶è€Œå¤±è½ï¼Œ
            æ—¶å¸¸è´¨ç–‘è‡ªå·±çš„èƒ½åŠ›ï¼Œä¹Ÿæ›¾åŠ¨æ‘‡è¿‡æ˜¯å¦è¯¥ç»§ç»­ã€‚ä½†æ¯æ¬¡æƒ³æ”¾å¼ƒçš„æ—¶å€™ï¼Œæˆ‘éƒ½ä¼šæ‰“å¼€ VSCodeï¼Œçœ‹çœ‹è‡ªå·±æ›¾å†™è¿‡çš„ä»£ç ï¼Œ
            é‚£ä¸€è¡Œè¡Œç†Ÿæ‚‰çš„å­—ç¬¦ï¼Œå°±åƒæ˜¯ä¸€ç§åŠ›é‡ï¼Œè®©æˆ‘å®‰å¿ƒï¼Œä¹Ÿè®©æˆ‘åšæŒäº†ä¸‹æ¥ã€‚
          </p>
        </div>
      </section>

      <!-- é¡¹ç›®ç»å†éƒ¨åˆ† -->
      <section>
        <h2>ğŸ“‚ é¡¹ç›®ç»å†</h2>
        <ul>
          <li>
            <strong>ç¤¾äº¤ç½‘ç»œå›¾è°±ç³»ç»Ÿï¼š</strong> åŸºäºèŠå¤©é¢‘ç‡æ„å»ºç”¨æˆ·å›¾è°±ï¼Œä½¿ç”¨ PageRank ç®—æ³•è®¡ç®—å½±å“åŠ›ï¼›å‰åç«¯åˆ†ç¦»ï¼ŒFlask
            æä¾›æ¥å£ï¼ŒVue + Echarts å®ç°å¯è§†åŒ–äº¤äº’ã€‚
          </li>
          <li>
            <strong>ç©ºæ°”è´¨é‡é¢„è­¦å¹³å°ï¼š</strong> åŸºäº LSTM æ·±åº¦å­¦ä¹ æ¨¡å‹è¿›è¡Œç©ºæ°”è´¨é‡é¢„æµ‹ï¼Œå½“ç”²é†›æµ“åº¦å¼‚å¸¸è‡ªåŠ¨è§¦å‘é¢„è­¦ï¼Œå¹¶é€šè¿‡å›¾è¡¨å±•ç¤ºå˜åŒ–è¶‹åŠ¿ã€‚
          </li>
          <li>
            <strong>åŒ»é™¢é¢„çº¦ç®¡ç†ç³»ç»Ÿï¼š</strong> å®ç°æŒ‚å·ã€åŒ»ç”ŸæŸ¥çœ‹ã€ç®¡ç†å‘˜ç®¡ç†ç­‰å®Œæ•´æµç¨‹ï¼Œä½¿ç”¨ Spring Boot + Vue å®ç°åˆ†è§’è‰²åŠŸèƒ½æ¨¡å—ã€‚
          </li>
        </ul>
      </section>

      <section>
        <h2>ğŸ§  æŠ€æœ¯çŸ¥è¯†å°æµ‹éªŒ</h2>
        <p><strong>{{ currentQuiz.question }}</strong></p>
        <ul>
          <li v-for="option in currentQuiz.options" :key="option">
            <label>
              <input type="radio" v-model="userAnswer" :value="option"/>
              {{ option }}
            </label>
          </li>
        </ul>
        <button @click="submitQuiz">æäº¤ç­”æ¡ˆ</button>
        <button @click="nextQuiz" style="margin-left: 10px;">ä¸‹ä¸€é¢˜</button>
        <p>{{ feedback }}</p>
      </section>


      <section>
        <h2>ğŸ“· Pictures</h2>
        <div class="photo-gallery">
          <img v-for="img in galleryImages" :src="img.src" :alt="img.alt" @click="openPreview(img.src)"
               class="photo-thumb"/>
        </div>

        <div v-if="showPreview" class="preview-mask" @click="closePreview">
          <img :src="previewImage" class="preview-img"/>
        </div>
      </section>

    </div>
  </div>
</template>

<script>
export default {
  name: 'About',
  data() {
    return {
      showBackTop: false,
      currentTime: '',
      programmerTitle: '',
      quizData: [],
      currentQuiz: {
        question: "",
        options: [],
        answer: ""
      },
      userAnswer: '',
      feedback: '',
      quotes: [],
      currentQuote: "",
      galleryImages: [],
      titles: [],
      showPreview: false,
      previewImage: '',
    };
  },
  mounted() {
    this.fetchAllData();
    this.updateTime();
    setInterval(this.updateTime, 1000);

    const birthYear = 2005;
    const currentYear = new Date().getFullYear();
    const age = currentYear - birthYear;
    document.getElementById('age').textContent = age;

    window.addEventListener('scroll', this.checkScroll);
  },

  beforeDestroy() {
    window.removeEventListener('scroll', this.checkScroll);
  },

  methods: {
    async fetchAllData() {
      await Promise.all([
        this.fetchQuizData(),
        this.fetchQuotes(),
        this.fetchGalleryImages(),
        this.fetchProgrammerTitles()
      ]);

      this.loadQuiz();
      this.changeQuote();
      this.generateProgrammerTitle();
    },

    async fetchQuizData() {
      try {
        const res = await fetch('https://infinitylog.top/api1314/api/quiz');
        const data = await res.json();
        this.quizData = data.data || [];
      } catch (e) {
      }
    },

    async fetchQuotes() {
      try {
        const res = await fetch('https://infinitylog.top/api1314/api/quotes');
        const data = await res.json();
        this.quotes = data.data || [];
      } catch (e) {
      }
    },

    async fetchGalleryImages() {
      try {
        const res = await fetch('https://infinitylog.top/api1314/api/images');
        const data = await res.json();
        this.galleryImages = data.images || [];
      } catch (e) {
      }
    },

    async fetchProgrammerTitles() {
      try {
        const res = await fetch('https://infinitylog.top/api1314/api/titles');
        const data = await res.json();
        this.titles = data.data || [];
      } catch (e) {
      }
    },

    loadQuiz() {
      const index = Math.floor(Math.random() * this.quizData.length);
      this.currentQuiz = this.quizData[index] || {question: '', options: [], answer: ''};
      this.userAnswer = '';
      this.feedback = '';
    },

    submitQuiz() {
      if (!this.userAnswer) {
        this.feedback = "âš ï¸ è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé€‰é¡¹ï¼";
        return;
      }
      if (this.userAnswer === this.currentQuiz.answer) {
        this.feedback = "ğŸ‰ å›ç­”æ­£ç¡®ï¼ä½ å¤ªæ£’äº†~";
      } else {
        this.feedback = `âŒ ç­”é”™å•¦ï¼æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${this.currentQuiz.answer}`;
      }
    },

    nextQuiz() {
      this.loadQuiz();
    },

    checkScroll() {
      this.showBackTop = window.scrollY > 100;
    },

    scrollToTop() {
      window.scrollTo({top: 0, behavior: 'smooth'});
    },

    updateTime() {
      const now = new Date();
      this.currentTime = now.toLocaleTimeString();
    },

    changeQuote() {
      const randomIndex = Math.floor(Math.random() * this.quotes.length);
      this.currentQuote = this.quotes[randomIndex] || "";
    },

    generateProgrammerTitle() {
      const index = Math.floor(Math.random() * this.titles.length);
      this.programmerTitle = this.titles[index] || "";
    },

    openPreview(imgUrl) {
      this.previewImage = imgUrl;
      this.showPreview = true;
    },

    closePreview() {
      this.showPreview = false;
    },
  }
};
</script>

<style lang="scss" scoped>
$primary-color: #007acc;
$success-color: #4caf50;
$text-color: rgb(57, 57, 57);
$subtitle-color: #515151;
$bg-light: rgba(251, 251, 251, 0);

.about-page {
  display: flex;
  justify-content: center;
  padding: 2rem;
  background-color: $bg-light;
}

.about-card {
  max-width: 1000px;
  width: 100%;
  padding: 2rem;
  border-radius: 16px;
  background: rgba(218, 218, 218, 0.19);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
  color: $text-color;
  line-height: 1.8;

  section {
    margin-top: 2rem;
  }

  h1 {
    margin-bottom: 0.5rem;
    font-size: 2rem;
    font-weight: 600;
  }

  h2 {
    position: relative;
    font-size: 1.5rem;
    color: $primary-color;
    margin-top: 1.5rem;

    &::after {
      content: '';
      display: block;
      width: 60px;
      height: 4px;
      background-color: $primary-color;
      margin-top: 0.5rem;
      border-radius: 2px;
    }
  }

  ul {
    padding-left: 1.5em;

    li {
      margin-bottom: 0.5em;
      list-style-type: disc;
    }
  }

  .intro-section {
    display: flex;
    align-items: center;
    margin-bottom: 2rem;

    .avatar {
      width: 240px;
      height: 240px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 2rem;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.82);
    }

    .intro-text {
      flex: 1;

      .subtitle {
        font-size: 1.1rem;
        color: $subtitle-color;
        margin: 0.5rem 0 1rem;
      }
    }
  }

  .photo-gallery {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;

    .photo-thumb {
      width: 300px;
      object-fit: cover;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.3s ease;

      &:hover {
        transform: scale(1.05);
      }
    }
  }

  .section-image {
    width: 100%;
    margin-top: 1rem;
    border-radius: 8px;
  }

  .preview-mask {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 999;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;

    .preview-img {
      max-width: 90%;
      max-height: 80%;
      border-radius: 10px;
    }
  }

  .progress-bar {
    background-color: rgba(255, 255, 255, 0.42);
    border-radius: 8px;
    height: 8px;
    margin: 5px 0;

    .progress {
      background-color: $success-color;
      height: 100%;
      border-radius: 8px;
    }
  }

  .back-to-top {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    background-color: $primary-color;
    color: rgba(255, 255, 255, 0);
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    font-size: 1.5rem;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    transition: background-color 0.3s;

    &:hover {
      background-color: darken($primary-color, 10%);
    }
  }
}

.quote-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 50px;

  .quote-text {
    font-size: 1.5rem;
    margin-bottom: 20px;
    color: $text-color;
    text-align: center;
  }

  .change-quote-button {
    background-color: $success-color;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    padding: 8px 16px;
    font-size: 1rem;
    transition: background-color 0.3s;

    &:hover {
      background-color: darken($success-color, 10%);
    }
  }
}

@media (max-width: 768px) {
  .about-page {
    padding: 1rem;
  }

  .about-card {
    padding: 1rem;
    border-radius: 12px;

    h1 {
      font-size: 1.5rem;
    }

    h2 {
      font-size: 1.2rem;
    }

    .intro-section {
      flex-direction: column;
      text-align: center;

      .avatar {
        width: 160px;
        height: 160px;
        margin-bottom: 1rem;
      }

      .intro-text {
        .subtitle {
          font-size: 1rem;
          margin: 0.5rem 0;
        }
      }
    }

    .photo-gallery {
      gap: 8px;

      .photo-thumb {
        width: 100%;
      }
    }

    .section-image {
      border-radius: 6px;
      margin-top: 0.5rem;
    }

    ul li {
      margin-bottom: 0.4em;
    }

    .back-to-top {
      bottom: 1rem;
      right: 1rem;
      width: 36px;
      height: 36px;
      font-size: 1.2rem;
    }
  }

  .quote-container {
    margin-top: 20px;

    .quote-text {
      font-size: 1.2rem;
      margin-bottom: 12px;
    }

    .change-quote-button {
      font-size: 0.9rem;
      padding: 6px 12px;
    }
  }
}
</style>
